<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <title>Sanavera MP3</title>
  <meta name="theme-color" content="#161821">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" xintegrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="app-container">
    <!-- VISTA: BÚSQUEDA -->
    <main id="search-view" class="view active">
      <header class="search-header">
        <div class="search-row">
          <input type="text" id="search-input" placeholder="Buscar álbumes o artistas..." autocomplete="off" value="banda XXI" />
          <button id="search-button" type="button" aria-label="Buscar"><i class="fas fa-search"></i></button>
        </div>
      </header>
      <div class="view-content">
        <div id="album-list"></div>
        <div id="loading-indicator">Cargando...</div>
      </div>
    </main>
    <!-- VISTA: FAVORITOS -->
    <main id="favorites-view" class="view">
      <header class="view-header"><h1>Favoritos</h1></header>
      <div class="view-content"><div class="playlist" id="favorites-list"></div></div>
    </main>
    <!-- VISTA: LISTAS -->
    <main id="playlists-view" class="view">
      <header class="view-header"><h1>Listas de Reproducción</h1></header>
      <div class="view-content"><div class="playlist" id="playlists-list"></div></div>
    </main>
    <!-- VISTA: REPRODUCTOR -->
    <main id="player-view" class="view">
      <div class="player-layout">
        <section class="player-hero" id="player-hero">
          <div class="hero-text">
            <h2 id="hero-song-title">Sanavera MP3</h2>
            <p id="hero-song-artist">Elige una canción para empezar</p>
          </div>
        </section>
        <div id="player-tracklist-wrapper">
          <div class="playlist" id="player-tracklist"></div>
        </div>
        <div class="player-controls-wrapper">
          <div class="controls-section">
            <div class="progress-container">
              <input type="range" id="seek-bar" min="0" max="100" value="0" />
              <div class="time-info"><span id="current-time">0:00</span><span id="duration">0:00</span></div>
            </div>
            <div class="controls">
              <button class="btn" id="btn-shuffle" aria-label="Mezclar"><i class="fas fa-shuffle"></i></button>
              <button class="btn" id="btn-prev" aria-label="Anterior"><i class="fas fa-backward-step"></i></button>
              <button class="btn btn-play" id="btn-play" aria-label="Reproducir"><i class="fas fa-play"></i><i class="fas fa-pause"></i></button>
              <button class="btn" id="btn-next" aria-label="Siguiente"><i class="fas fa-forward-step"></i></button>
              <button class="btn" id="btn-repeat" aria-label="Repetir"><i class="fas fa-repeat"></i></button>
            </div>
             <div class="controls secondary-controls" style="justify-content:center; gap: 24px;">
                <button class="btn" id="quality-btn" aria-label="Calidad"><i class="fas fa-bolt"></i></button>
                <a class="btn" id="btn-download" href="#" download aria-label="Descargar"><i class="fas fa-download"></i></a>
             </div>
          </div>
        </div>
      </div>
    </main>
  </div>
  <!-- NAVEGACIÓN -->
  <nav id="bottom-nav">
    <button class="nav-link active" data-view="search"><i class="fas fa-search"></i><span>Buscar</span></button>
    <button class="nav-link" data-view="favorites"><i class="fas fa-heart"></i><span>Favoritos</span></button>
    <button class="nav-link" data-view="playlists"><i class="fas fa-list-music"></i><span>Listas</span></button>
    <button class="nav-link" data-view="player"><i class="fas fa-circle-play"></i><span>Player</span></button>
  </nav>
  <!-- MODALES -->
  <div class="modal" id="new-playlist-modal">
    <div class="modal-backdrop modal-close"></div>
    <div class="modal-content">
        <div class="modal-header"><h2>Crear nueva lista</h2><button class="modal-close"><i class="fas fa-times"></i></button></div>
        <div class="modal-body">
            <form id="new-playlist-form">
                <div class="form-group"><input type="text" id="new-playlist-input" placeholder="Nombre de la lista" required></div>
                <div class="form-actions"><button type="submit" class="btn-primary">Crear</button></div>
            </form>
        </div>
    </div>
  </div>
  <div class="modal" id="add-to-playlist-modal">
      <div class="modal-backdrop modal-close"></div>
      <div class="modal-content">
          <div class="modal-header"><h2>Añadir a la lista</h2><button class="modal-close"><i class="fas fa-times"></i></button></div>
          <div class="modal-body" id="add-to-playlist-options"></div>
      </div>
  </div>
   <!-- MENÚ CALIDAD -->
  <div id="quality-backdrop" class="modal-close"></div>
  <div id="quality-menu" class="modal-content">
    <div id="quality-options"></div>
  </div>
  <!-- AUDIO -->
  <audio id="audio-player" preload="metadata"></audio>
  <script src="script.js"></script>
</body>
</html>
